<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Scrollbar</title>
    <style>
        .wrapper {
            float: left;
            width: 300px;
            height: 500px;
            background-color: lightblue;
            overflow-y: hidden;
            position: relative;
        }

        .wrapper-scroll {
            overflow-y: auto;
        }

        .scroller {
            overflow: hidden;
            position: relative;
        }

        .bar {
            left: 0;
            top: 0;
            width: 6px;
            height: 0;
            border-radius: 500px;
            background-color: rgba(0, 0, 0, 0.25);
            position: absolute;
        }
    </style>
</head>
<body>
    <div class="wrapper">
        <div class="bar"></div>
        <div class="scroller">
            <p>Lorem ipsum dolor sit amet, consectetur adipisicing elit. Explicabo voluptatem delectus recusandae quaerat deleniti harum laborum repellat, eveniet. Expedita minima doloremque necessitatibus vero placeat laudantium iure, ipsam iste eveniet ea nisi, voluptas aliquid dolorem! Consectetur inventore error dicta nam vero quaerat. Libero molestias quibusdam minima, atque perferendis placeat iure. Labore.</p>
        </div>
    </div>
    <div class="wrapper wrapper-scroll">
        <div class="bar"></div>
        <div class="scroller">
            <p>Lorem ipsum dolor sit amet, consectetur adipisicing elit. Explicabo voluptatem delectus recusandae quaerat deleniti harum laborum repellat, eveniet. Expedita minima doloremque necessitatibus vero placeat laudantium iure, ipsam iste eveniet ea nisi, voluptas aliquid dolorem! Consectetur inventore error dicta nam vero quaerat. Libero molestias quibusdam minima, atque perferendis placeat iure. Labore.</p>
        </div>
    </div>
    <div>
        <button id="refresh">Refresh</button>
        <button id="add">Add</button>
    </div>
    <script src="../dest/scrollbar-iife.js"></script>
    <script>
        var s1 = document.querySelector('.wrapper').style;
        var s2 = document.querySelector('.scroller').style;
        var s3 = document.querySelector('.bar').style;
        var bar = new ScrollBar(function (w1, h1, l1, t1, w2, h2, l2, t2, w3, h3, l3, t3) {
            s1.width = w1 + 'px';
            s1.height = h1 + 'px';
            s1.left = l1 + 'px';
            s1.top = t1 + 'px';

            // s2.width = w2 + 'px';
            // s2.height = h2 + 'px';
            s2.left = l2 + 'px';
            s2.top = t2 + 'px';

            s3.width = w3 + 'px';
            s3.height = h3 + 'px';
            s3.left = l3 + 'px';
            s3.top = t3 + 'px';

            console.log('updated');
        }, {
            enableVertical: true,
            enableHorizontal: false
        });

        bar.setNode();
    </script>
    <script>
        var refreshBtn = document.querySelector('#refresh');
        var addBtn = document.querySelector('#add');

        refreshBtn.addEventListener('click', function () {
            bar.doRefresh();
        });
        addBtn.addEventListener('click', function () {
            var p = document.createElement('p');

            p.textContent = 'Lorem ipsum dolor sit amet, consectetur adipisicing elit. Explicabo voluptatem delectus recusandae quaerat deleniti harum laborum repellat, eveniet. Expedita minima doloremque necessitatibus vero placeat laudantium iure, ipsam iste eveniet ea nisi, voluptas aliquid dolorem! Consectetur inventore error dicta nam vero quaerat. Libero molestias quibusdam minima, atque perferendis placeat iure. Labore.'

            document.querySelector('.scroller').appendChild(p);
        });

    </script>
</body>
</html>
